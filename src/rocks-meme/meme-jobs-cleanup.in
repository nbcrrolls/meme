#!/bin/bash

# number of days to keep old jobs scratch directories
DAYS=7

# tomtom temp files
DIR=/share/meme/output-@MEMEVER@
if [ -d $DIR ] ; then
    files=`find $DIR  -mindepth 1  -type d -mtime +$DAYS -print`
    for i in $files;
    do
        rm -rf $i
    done
fi

DIR=/share/meme/output-@MEMEPREV@
if [ -d $DIR ] ; then
    files=`find $DIR  -mindepth 1  -type d -mtime +$DAYS -print`
    for i in $files;
    do
        rm -rf $i
    done
fi

# CGI temp files
if [ -d /var/tmp ] ; then
    DIR=/var/tmp
    files=`find $DIR  -type f -mtime +$DAYS -name 'CGItemp*'  -print`
    for i in $files;
    do
        rm -rf $i
    done
fi
